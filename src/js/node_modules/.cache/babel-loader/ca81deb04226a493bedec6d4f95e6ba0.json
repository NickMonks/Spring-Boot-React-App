{"ast":null,"code":"import _classCallCheck from\"C:/demo/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/demo/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/demo/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/demo/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'./Container';import Footer from'./Footer';import'./App.css';import{getAllStudents}from'./client';import AddStudentForm from'./forms/AddStudentForm';import{errorNotification}from'./Notification';import{Table,Avatar,Spin,Modal,Empty}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getIndicatorIcon=function getIndicatorIcon(){return/*#__PURE__*/_jsx(Spin,{tip:\"Loading...\"});};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={students:[],isFetching:false,isAddStudentModalVisible:false};_this.openAddStudentModal=function(){return _this.setState({isAddStudentModalVisible:true});};_this.closeAddStudentModal=function(){return _this.setState({isAddStudentModalVisible:false});};_this.fetchStudents=function(){_this.setState({isFetching:true});getAllStudents().then(function(res){return res.json().then(function(students){console.log(students);_this.setState({students:students,isFetching:false});});}).catch(function(error){console.log(error.error);var message=error.error.message;var description=error.error.error;errorNotification(message,description);_this.setState({isFetching:false});});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:// before the component is mount\nfunction componentDidMount(){this.fetchStudents();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,students=_this$state.students,isFetching=_this$state.isFetching,isAddStudentModalVisible=_this$state.isAddStudentModalVisible;var commonElements=function commonElements(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{title:\"Add new student\",visible:isAddStudentModalVisible,onOk:_this2.closeAddStudentModal,onCancel:_this2.closeAddStudentModal,width:1000,children:/*#__PURE__*/_jsx(AddStudentForm,{onSuccess:function onSuccess(){_this2.closeAddStudentModal();_this2.fetchStudents();},onFailure:function onFailure(err){var message=err.error.message;var description=err.error.httpStatus;errorNotification(message,description);console.log(JSON.stringify(err));}})}),/*#__PURE__*/_jsx(Footer,{numberOfStudents:students.length,handleAddStudentClickEvent:_this2.openAddStudentModal})]});};if(isFetching){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Spin,{indicator:getIndicatorIcon()})});}if(students&&students.length){var columns=[{title:'',key:'avatar',render:function render(text,student){return/*#__PURE__*/_jsx(Avatar,{size:\"large\",children:\"\".concat(student.firstName.charAt(0).toUpperCase()).concat(student.lastName.charAt(0).toUpperCase())});}},{title:'StudentId',dataIndex:'studentId',key:'studentId'},{title:'First Name',dataIndex:'firstName',key:'firstName'},{title:'Last Name',dataIndex:'lastName',key:'lastName'},{title:'Email',dataIndex:'email',key:'email'},{title:'Gender',dataIndex:'gender',key:'gender'}];return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Table,{style:{marginBottom:'100px'},dataSource:students,columns:columns,pagination:false,rowKey:\"studentId\"}),commonElements()]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Empty,{description:/*#__PURE__*/_jsx(\"h1\",{children:\" No students found \"})}),commonElements()]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/demo/src/js/src/App.js"],"names":["React","Component","Container","Footer","getAllStudents","AddStudentForm","errorNotification","Table","Avatar","Spin","Modal","Empty","getIndicatorIcon","App","state","students","isFetching","isAddStudentModalVisible","openAddStudentModal","setState","closeAddStudentModal","fetchStudents","then","res","json","console","log","catch","error","message","description","commonElements","err","httpStatus","JSON","stringify","length","columns","title","key","render","text","student","firstName","charAt","toUpperCase","lastName","dataIndex","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Container from './Container';\nimport Footer from './Footer';\nimport './App.css';\nimport { getAllStudents } from './client';\nimport AddStudentForm from './forms/AddStudentForm';\nimport {errorNotification } from './Notification';\nimport {\n  Table,\n  Avatar,\n  Spin,\n  Modal,\n  Empty\n} from 'antd';\n\nconst getIndicatorIcon = () => <Spin tip=\"Loading...\"/>\n\nclass App extends Component {\n  \n  state = {\n      students:[],\n      isFetching: false,\n      isAddStudentModalVisible: false\n  }\n\n  // before the component is mount\n  componentDidMount () {\n    this.fetchStudents();\n  }\n\n  openAddStudentModal = () => this.setState({isAddStudentModalVisible: true})\n  closeAddStudentModal = () => this.setState({isAddStudentModalVisible: false})\n\n\n  fetchStudents = () => {\n    this.setState({\n      isFetching: true\n    });\n    getAllStudents()\n              .then(res => res.json()\n              .then(students => {\n                console.log(students);\n                  this.setState({\n                    students,\n                    isFetching: false\n                  })\n    }))\n    .catch(error  => {\n      console.log(error.error);\n      const message = error.error.message;\n      const description = error.error.error;\n      errorNotification(message,description);\n      this.setState({\n        isFetching: false\n      });\n    });\n  }\n\n\n  render() {\n\n      const { students, isFetching, isAddStudentModalVisible } = this.state;\n      \n      const commonElements = () => (\n        <div>\n          <Modal\n            title='Add new student'\n            visible={isAddStudentModalVisible}\n            onOk={this.closeAddStudentModal}\n            onCancel={this.closeAddStudentModal}\n            width={1000}>\n            <AddStudentForm\n              onSuccess={() => {\n                this.closeAddStudentModal(); \n                this.fetchStudents();\n              }}\n              onFailure={(err)=> {\n                const message = err.error.message;\n                const description = err.error.httpStatus;\n                errorNotification(message,description);\n                console.log(JSON.stringify(err));\n\n              }}\n            />\n          </Modal>\n          <Footer \n            numberOfStudents={students.length}\n            handleAddStudentClickEvent={this.openAddStudentModal}\n           ></Footer>\n        </div>\n      )\n\n      if (isFetching) {\n        return (\n          <Container>\n            <Spin indicator={getIndicatorIcon()} />\n          </Container>\n        );\n      }\n\n      if (students && students.length){\n        \n        \n        const columns = [\n          {\n            title: '',\n            key: 'avatar',\n            render: (text, student)=> (\n              <Avatar size='large'>\n                {`${student.firstName.charAt(0).toUpperCase()}${student.lastName.charAt(0).toUpperCase()}`}\n              </Avatar>\n            )\n          },\n          {\n            title: 'StudentId',\n            dataIndex:'studentId',\n            key: 'studentId'\n          },\n          {\n            title: 'First Name',\n            dataIndex:'firstName',\n            key: 'firstName'\n          },\n          {\n            title: 'Last Name',\n            dataIndex:'lastName',\n            key: 'lastName'\n          },\n          {\n            title: 'Email',\n            dataIndex:'email',\n            key: 'email'\n          },\n          {\n            title: 'Gender',\n            dataIndex:'gender',\n            key: 'gender'\n          }\n        ]\n\n        return (\n          <Container>\n            <Table\n            style = {{marginBottom: '100px'}}\n            dataSource={students} \n            columns={columns} \n            pagination={false}\n            rowKey='studentId' />\n            {commonElements()}\n          </Container>\n          \n          );\n      }\n\n      return (\n      <Container>\n        <Empty description={\n          <h1> No students found </h1>\n        }/>\n        {commonElements()}\n      </Container>\n      )\n}\n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}